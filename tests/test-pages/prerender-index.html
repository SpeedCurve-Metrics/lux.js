<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>LUX prerender test page (index)</title>
    <script>/*INJECT_SCRIPT*/</script>
    <script src="/js/lux.js?id=10001" async crossorigin="anonymous"></script>
</head>
<body>
    <h1>LUX prerender test page (index)</h1>
    <p>This page uses <a href="https://github.com/WICG/nav-speculation/">speculation rules</a> to prerender <a id="next-page-link">the next page</a>.</p>

    <script>
        const nextPageUrl = "/prerender-page.html" + document.location.search;
        const speculationRules = document.createElement("script");
        speculationRules.type = "speculationrules";
        speculationRules.text = `
            {
                "prerender": [
                    {
                        "source": "list",
                        "urls": ["${nextPageUrl}"]
                    }
                ]
            }
        `;

        document.getElementById("next-page-link").href = nextPageUrl;
        document.body.appendChild(speculationRules);
    </script>
</body>
</html>
